2025-09-03 09:43:23,963 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,967 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:23,977 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,978 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:23,979 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 09:43:23,982 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 09:43:23,986 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 09:43:23,988 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 09:43:23,993 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,995 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:24,000 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 09:43:24,004 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 09:43:24,009 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 09:43:24,011 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 09:43:24,014 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:24,016 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:24,018 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 09:43:24,022 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 09:44:37,952 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,956 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,966 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,967 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,968 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 09:44:37,970 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 09:44:37,972 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 09:44:37,973 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 09:44:37,975 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,977 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,983 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 09:44:37,985 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 09:44:37,990 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 09:44:37,991 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 09:44:37,994 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,997 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,999 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 09:44:38,002 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 10:06:18,266 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,285 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,289 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,293 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,294 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 10:06:18,294 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 10:06:18,300 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 10:06:18,302 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 10:06:18,306 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,311 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,312 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 10:06:18,313 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 10:06:18,324 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 10:06:18,326 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 10:06:18,334 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,337 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,338 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 10:06:18,344 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 10:47:25,405 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 10:47:25,420 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 10:48:56,992 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 10:48:57,005 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 11:52:55,866 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 11:52:55,879 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:07:41,558 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:07:41,570 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:17,306 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:17,315 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:27,305 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:27,316 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:27,316 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000001C2AF09FB60>
2025-09-03 14:42:53,147 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:53,157 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:53,157 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000001A8072CFB60>
2025-09-03 14:42:53,158 - test_repo_price - INFO - call(<src.infrastructure.database.models.price.ORMPrice object at 0x000001A8072CFB60>)
2025-09-03 14:46:02,769 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:46:02,778 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:46:02,778 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000002BDBCCAFB60>
2025-09-03 14:59:09,225 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:59:09,232 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:59:09,232 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000184243E3CB0>
2025-09-03 15:49:46,967 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 15:49:46,969 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 15:50:46,866 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 15:50:46,867 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 15:50:46,867 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 15:50:46,867 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:03:44,503 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:03:44,505 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:03:44,505 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:03:44,506 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:16:32,279 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:16:32,281 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:16:32,281 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:16:32,281 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:01,295 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:01,296 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:01,296 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:01,296 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:23,008 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:23,009 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:23,010 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:23,010 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:45,157 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:45,157 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:45,158 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:45,158 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:20:57,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:20:57,911 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:20:57,911 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:20:57,911 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:21:57,467 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:21:57,467 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:21:57,468 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:21:57,468 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:22:22,993 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:22:22,994 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:22:22,994 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:22:22,995 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:28:35,492 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:30:06,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:36:19,167 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:50:36,666 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:50:36,676 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:50:36,677 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000016AA3693CB0>
2025-09-03 16:50:36,710 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:50:36,711 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:50:36,711 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:50:36,712 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:54:10,027 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:54:10,032 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:54:10,033 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000211462D3CB0>
2025-09-03 16:54:10,064 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:54:10,065 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:54:10,065 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:54:10,066 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:59:16,192 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:59:16,207 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:59:16,209 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000002318A403CB0>
2025-09-03 16:59:16,243 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:59:16,244 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:59:16,244 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:59:16,244 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:00:22,863 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:00:22,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:00:22,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000233594C3CB0>
2025-09-03 17:00:22,922 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:00:22,923 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:00:22,923 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:00:22,924 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:02:44,528 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:02:44,534 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:02:44,535 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C89D5FFE00>
2025-09-03 17:02:44,560 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:02:44,561 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:02:44,561 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:02:44,562 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:02:44,564 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:02:44,565 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:04:28,774 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:04:28,783 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:04:28,783 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000002D3B570FE00>
2025-09-03 17:04:28,808 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:04:28,809 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:04:28,810 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:04:28,810 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:04:28,813 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:04:28,813 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:05:34,869 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:05:34,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:05:34,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C05E10FE00>
2025-09-03 17:05:34,903 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:05:34,904 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:05:34,904 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:05:34,904 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:05:34,906 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:05:34,907 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:08:17,981 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:08:17,988 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:08:17,989 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000241DAD93CB0>
2025-09-03 17:08:18,012 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:08:18,013 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:08:18,013 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:08:18,014 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:08:18,016 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:08:18,017 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 08:51:19,699 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 08:51:19,709 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 08:51:19,709 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F150003CB0>
2025-09-04 08:51:19,882 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 08:51:19,883 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 08:51:19,883 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 08:51:19,884 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 08:51:19,886 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 08:51:19,887 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 09:05:19,579 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,609 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,610 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,611 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:05:19,620 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:05:19,626 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:05:19,629 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:05:19,636 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,640 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,643 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:05:19,646 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:05:19,658 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:05:19,659 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:05:19,662 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,664 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,666 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:05:19,675 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:08:23,445 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,470 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,486 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,488 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,488 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:08:23,490 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:08:23,492 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:08:23,494 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:08:23,499 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,501 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,506 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:08:23,509 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:08:23,518 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:08:23,520 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:08:23,524 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,527 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,527 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:08:23,535 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:14:54,213 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:14:54,221 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:14:54,222 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F817703CB0>
2025-09-04 09:16:52,344 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:16:52,510 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,525 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,525 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:16:52,535 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:16:52,540 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:16:52,542 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:16:52,544 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,547 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,549 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:16:52,552 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:16:52,559 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:16:52,560 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:16:52,563 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,565 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,565 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:16:52,571 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:16:58,890 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:16:58,900 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:16:58,901 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001ADF8543CB0>
2025-09-04 09:17:40,084 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:17:40,092 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:17:40,092 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C89D313CB0>
2025-09-04 09:18:26,109 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:18:26,119 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:18:26,120 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F8BF343CB0>
2025-09-04 09:22:52,619 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:22:52,627 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:22:52,627 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000024997283CB0>
2025-09-04 09:23:06,865 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:23:06,875 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:23:06,876 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000022CF9D03CB0>
2025-09-04 09:23:58,515 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:24:21,542 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:25:24,940 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:25:24,956 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:30:01,860 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:14,426 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:14,427 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:34:35,820 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:35,820 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:34:35,821 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:41,667 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:41,668 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:41,669 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:42:41,670 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:42:41,670 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:41,671 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:42:55,584 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:55,584 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:55,586 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:43:19,118 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:43:19,118 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:43:19,119 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:43:19,119 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:43:19,120 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:43:19,120 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:07:58,074 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:07:58,075 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:10:09,998 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 10:10:10,004 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 10:10:10,005 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000023A7E833CB0>
2025-09-04 10:10:10,041 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 10:10:10,043 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 10:10:10,043 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 10:10:10,044 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 10:10:10,046 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 10:10:10,047 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 10:10:21,544 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:10:21,545 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:11:55,862 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 10:11:55,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 10:11:55,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000241F0533CB0>
2025-09-04 10:11:55,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 10:11:55,911 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 10:11:55,911 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 10:11:55,912 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 10:11:55,916 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 10:11:55,916 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 10:11:58,550 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:11:58,552 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:11:58,564 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:11:58,566 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:15,106 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:13:15,108 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:13:15,110 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:13:15,110 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:15,112 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:13:15,113 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:13:34,580 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:13:34,581 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:13:34,584 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:13:34,584 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:34,586 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:13:34,587 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:15:09,208 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:15:09,209 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:15:09,212 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:15:09,213 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:15:09,215 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:15:09,215 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:15:09,218 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:15:09,219 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:05,408 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:05,409 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:05,411 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:05,411 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:05,413 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:05,413 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:05,417 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:05,417 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,029 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:19,030 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:19,032 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:19,032 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,035 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:19,036 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:19,041 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:19,042 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,043 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:12:19,043 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 11:12:56,477 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:56,478 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:56,483 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:56,484 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:56,487 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:56,488 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:56,490 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:56,491 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:56,491 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:12:56,492 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 11:13:16,584 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:13:16,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:13:16,586 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:13:16,586 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:13:16,590 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:13:16,590 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:13:16,592 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:13:16,593 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:13:16,593 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:13:16,594 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 11:25:01,805 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:25:01,805 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:25:01,808 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:25:01,808 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:25:01,810 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:25:01,811 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:25:01,812 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 11:25:01,813 - src.infrastructure.database.repositories.product_repository - ERROR - Ошибка получения товаров пользователя u1: 'Mock' object is not iterable
2025-09-04 11:25:01,972 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:25:01,973 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:25:01,973 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:25:01,973 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:20:40,022 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:20:40,023 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:20:40,025 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:20:40,025 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:20:40,028 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:20:40,029 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:20:40,032 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:20:40,033 - src.infrastructure.database.repositories.product_repository - ERROR - Ошибка получения товаров пользователя u1: 'Mock' object is not iterable
2025-09-04 15:20:40,191 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:20:40,191 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:20:40,192 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:20:40,192 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:21:04,611 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:21:04,612 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:21:04,615 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:21:04,616 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:21:04,618 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:21:04,619 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:21:04,623 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:21:04,624 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:21:04,626 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:21:04,626 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:21:04,626 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:21:04,627 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:21:19,592 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:21:19,593 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:21:19,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:21:19,595 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:21:19,598 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:21:19,599 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:21:19,602 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:21:19,603 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:21:45,209 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:21:45,210 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:21:45,212 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:21:45,212 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:21:45,214 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:21:45,215 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:21:45,218 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:21:45,220 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:22:39,348 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:22:39,348 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:22:39,351 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:22:39,351 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:22:39,353 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:22:39,354 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:22:39,356 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:22:39,357 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:22:39,359 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:22:39,359 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:22:39,359 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:22:39,360 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:23:33,374 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:23:33,375 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:23:33,377 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:23:33,377 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:23:33,381 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:23:33,381 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:23:33,383 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:23:33,384 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:23:33,385 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:23:33,386 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:23:33,386 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:23:33,386 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:27:49,384 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:27:49,395 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:27:49,436 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:27:49,448 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:27:49,480 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:27:49,481 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:27:49,487 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:27:49,490 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:28:02,594 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:28:02,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:28:02,597 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:28:02,598 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:28:02,600 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:28:02,601 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:28:02,605 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:28:02,605 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:28:43,726 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:28:43,727 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:28:43,730 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:28:43,730 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:28:43,732 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:28:43,733 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:28:43,736 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:28:43,737 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:28:43,740 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:28:43,741 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:28:43,742 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:28:43,743 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:29:10,582 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:29:10,583 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:29:10,587 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:29:10,588 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:29:10,591 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:29:10,592 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:29:10,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:29:10,596 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:29:10,597 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:29:10,598 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:29:10,598 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:29:10,599 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:29:16,539 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:29:16,540 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:29:16,543 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:29:16,543 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:29:16,545 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:29:16,545 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:29:16,547 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:29:16,547 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:29:16,549 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:29:16,550 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:29:16,550 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:29:16,551 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:30:01,690 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:30:01,692 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:30:01,693 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:30:01,693 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:30:01,696 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:30:01,696 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:30:01,700 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:30:01,701 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:30:01,704 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:30:01,704 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:30:01,705 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:30:01,705 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:30:36,735 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:30:36,736 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:30:36,737 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:30:36,737 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:30:36,739 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:30:36,740 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:30:36,742 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:30:36,742 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:30:36,744 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:30:36,744 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:30:36,745 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:30:36,746 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:31:00,348 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:31:00,349 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:31:00,351 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:31:00,352 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:31:00,355 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:31:00,355 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:31:00,357 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:31:00,357 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:31:00,360 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:31:00,360 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:31:00,360 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:31:00,361 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:31:17,721 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:31:17,722 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:31:17,724 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:31:17,724 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:31:17,728 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:31:17,729 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:31:17,733 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:31:17,735 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:31:17,738 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:31:17,739 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:32:14,038 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:32:14,039 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:32:14,041 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:32:14,041 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:32:14,044 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:32:14,044 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:32:14,048 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:32:14,049 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:32:14,052 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:32:14,054 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:32:14,054 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:32:14,055 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:32:22,210 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:32:22,211 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:32:22,213 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:32:22,214 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:32:22,221 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:32:22,222 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:32:22,225 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:32:22,226 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:32:22,229 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:32:22,229 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:32:22,230 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:32:22,231 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:32:35,289 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:32:35,289 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:32:35,291 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:32:35,291 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:32:35,295 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:32:35,295 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:32:35,298 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:32:35,299 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:32:35,302 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:32:35,304 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:37:47,088 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 15:37:47,089 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 15:37:47,090 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000156D58C9F90>
2025-09-04 15:37:47,684 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 15:37:47,685 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 15:37:47,688 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 15:37:47,689 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 15:37:47,691 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 15:37:47,692 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 15:37:47,695 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 15:37:47,695 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 15:37:47,699 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 15:37:47,701 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 15:37:47,705 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 15:37:47,705 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 15:37:47,712 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-04 15:37:47,713 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-04 15:37:47,714 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-04 15:37:47,717 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-04 15:37:47,719 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-04 15:37:47,726 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 15:37:47,730 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 15:37:47,735 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 15:37:47,736 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 15:37:47,736 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 15:37:47,737 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 15:37:47,743 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 15:37:47,746 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 15:37:47,751 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 15:37:47,756 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 15:37:47,759 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 15:37:47,760 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 15:37:47,762 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 15:37:47,766 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 15:37:47,771 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 15:37:47,776 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 15:37:47,776 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 15:37:47,777 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 15:37:47,780 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 15:37:47,785 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 15:37:47,791 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 15:55:17,581 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x000001CEF14AF770>
2025-09-04 16:02:32,152 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x000001B8DD40F770>
2025-09-04 16:08:00,426 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x0000016842BDF770>
2025-09-04 16:08:19,120 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:08:33,405 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x000001CB8E94F770>
2025-09-04 16:08:39,131 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:08:39,133 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:10:19,906 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:10:19,909 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:10:19,914 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:10:19,915 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:11:02,697 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:11:02,700 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:11:02,702 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:11:02,703 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:11:32,775 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:11:32,776 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:11:32,779 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:11:32,780 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:11:32,783 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:11:32,784 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:12:23,425 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:12:23,431 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:12:23,435 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:12:23,436 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:12:23,438 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:12:23,439 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:12:28,120 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x000001EF148E5D10>
2025-09-04 16:12:28,122 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:12:28,122 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:12:28,123 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001EF148E5D10>
2025-09-04 16:12:28,560 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:12:28,560 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:12:28,562 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:12:28,563 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:12:28,565 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:12:28,566 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:12:28,569 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:12:28,569 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:12:28,573 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:12:28,575 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:12:28,580 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:12:28,581 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:12:28,586 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:12:28,590 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:12:28,592 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:12:28,593 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:12:28,596 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:12:28,596 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:12:28,604 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-04 16:12:28,605 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-04 16:12:28,606 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-04 16:12:28,607 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-04 16:12:28,607 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-04 16:12:28,611 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 16:12:28,613 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 16:12:28,619 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 16:12:28,619 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 16:12:28,620 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 16:12:28,620 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 16:12:28,625 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 16:12:28,629 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:12:28,635 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 16:12:28,638 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:12:28,643 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 16:12:28,643 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:12:28,647 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 16:12:28,651 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 16:12:28,655 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:12:28,658 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 16:12:28,659 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 16:12:28,659 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 16:12:28,663 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 16:12:28,668 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:12:28,671 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 16:14:17,273 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x0000024C69084410>
2025-09-04 16:14:17,277 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:14:17,279 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:14:17,280 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000024C69084410>
2025-09-04 16:14:17,284 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 16:14:17,285 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 16:14:17,286 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 16:14:17,287 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 16:14:17,294 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:14:17,296 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:14:17,300 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:14:17,301 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:14:17,307 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:14:17,308 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:14:17,312 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:14:17,313 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:14:17,317 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:14:17,318 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:14:17,322 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:14:17,323 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:14:17,331 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:14:17,335 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:14:17,339 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:14:17,340 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:14:17,344 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:14:17,345 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:14:17,355 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-04 16:14:17,356 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-04 16:14:17,357 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-04 16:14:17,357 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-04 16:14:17,358 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-04 16:14:17,364 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 16:14:17,368 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 16:14:17,374 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 16:14:17,374 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 16:14:17,375 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 16:14:17,375 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 16:14:17,381 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 16:14:17,388 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:14:17,394 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 16:14:17,399 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:14:17,405 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 16:14:17,405 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:14:17,411 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 16:14:17,414 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 16:14:17,419 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:14:17,433 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 16:14:17,434 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 16:14:17,435 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 16:14:17,443 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 16:14:17,448 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:14:17,453 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 16:44:18,970 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x0000028E72748410>
2025-09-04 16:44:18,973 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:44:18,974 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:44:18,975 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000028E72748410>
2025-09-04 16:44:18,978 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 16:44:18,978 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 16:44:18,979 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 16:44:18,979 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 16:44:18,984 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:44:18,985 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:44:18,988 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:44:18,989 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:44:18,991 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:44:18,992 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:44:18,995 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:44:18,995 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:44:18,999 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:44:19,000 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:44:19,002 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:44:19,004 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:44:19,009 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:44:19,011 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:44:19,014 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:44:19,015 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:44:19,017 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:44:19,018 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:44:19,022 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-04 16:44:19,023 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-04 16:44:19,024 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-04 16:44:19,024 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-04 16:44:19,025 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-04 16:44:19,192 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 16:44:19,195 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 16:44:19,201 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 16:44:19,202 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 16:44:19,203 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 16:44:19,204 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 16:44:19,213 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 16:44:19,220 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:44:19,225 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 16:44:19,230 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:44:19,235 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 16:44:19,235 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:44:19,239 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 16:44:19,242 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 16:44:19,246 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:44:19,251 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 16:44:19,252 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 16:44:19,252 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 16:44:19,257 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 16:44:19,261 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:44:19,266 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 16:46:31,571 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x000001CAD85E8550>
2025-09-04 16:46:31,575 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:46:31,575 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:46:31,577 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001CAD85E8550>
2025-09-04 16:46:31,582 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 16:46:31,583 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 16:46:31,583 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 16:46:31,584 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 16:46:31,586 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:46:31,587 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:46:31,590 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:46:31,591 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:46:31,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:46:31,597 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:46:31,600 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:46:31,600 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:46:31,603 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:46:31,604 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:46:31,606 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:46:31,607 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:46:31,613 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:46:31,616 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:46:31,618 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:46:31,619 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:46:31,621 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:46:31,621 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:46:41,512 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x0000025777FA8550>
2025-09-04 16:46:41,514 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:46:41,514 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:46:41,515 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000025777FA8550>
2025-09-04 16:46:41,517 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 16:46:41,517 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 16:46:41,517 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 16:46:41,518 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 16:46:41,521 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:46:41,522 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:46:41,524 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:46:41,525 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:46:41,529 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:46:41,530 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:46:41,532 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:46:41,533 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:46:41,535 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:46:41,536 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:46:41,539 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:46:41,539 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:46:41,543 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:46:41,547 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:46:41,549 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:46:41,550 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:46:41,552 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:46:41,552 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:46:41,557 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 16:46:41,563 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 16:46:41,570 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 16:46:41,570 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 16:46:41,571 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 16:46:41,571 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 16:46:41,579 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 16:46:41,583 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:46:41,588 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 16:46:41,591 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:46:41,597 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 16:46:41,598 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:46:41,602 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 16:46:41,606 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 16:46:41,609 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:46:41,615 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 16:46:41,616 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 16:46:41,616 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 16:46:41,622 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 16:46:41,625 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:46:41,633 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 16:49:14,479 - test_mapper_user - DEBUG - USER ORM - <src.infrastructure.database.models.user.ORMUser object at 0x0000027BAB188550>
2025-09-04 16:49:14,482 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 16:49:14,483 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 16:49:14,483 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000027BAB188550>
2025-09-04 16:49:14,486 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 16:49:14,486 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 16:49:14,487 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 16:49:14,487 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 16:49:14,491 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 16:49:14,492 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 16:49:14,495 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 16:49:14,496 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 16:49:14,498 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 16:49:14,498 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 16:49:14,500 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 16:49:14,501 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 16:49:14,503 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 16:49:14,504 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 16:49:14,508 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 16:49:14,509 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 16:49:14,513 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь User(id='u1', username='test_user', chat_id='12345', products=[]) получен по id: u1
2025-09-04 16:49:14,515 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:49:14,517 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: u1
2025-09-04 16:49:14,518 - src.infrastructure.database.repositories.user_repository - INFO - Пользователь с id: u1 удален
2025-09-04 16:49:14,521 - src.infrastructure.database.repositories.user_repository - INFO - Попытка удаления пользователя с ID: NOTEXIST_ID
2025-09-04 16:49:14,521 - src.infrastructure.database.repositories.user_repository - WARNING - Пользователь с id NOTEXIST_ID не найден
2025-09-04 16:49:14,527 - src.application.use_cases.create_user - INFO - Пользователь u1 успешно создан
2025-09-04 16:49:14,531 - src.application.use_cases.create_user - INFO - Пользователь u1 уже существует, пропускаем создание
2025-09-04 16:49:14,536 - src.application.use_cases.delete_product - DEBUG - Цена pr1 удалена для товара p1
2025-09-04 16:49:14,537 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален
2025-09-04 16:49:14,537 - src.application.use_cases.delete_product - DEBUG - Товар p1 удален из списка пользователя u1
2025-09-04 16:49:14,538 - src.application.use_cases.delete_product - INFO - Операция удаления выполнена для ID p1
2025-09-04 16:49:14,546 - src.application.use_cases.delete_product - WARNING - Товар p1 не существует в БД, пропускаем удаление
2025-09-04 16:49:14,550 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:49:14,555 - src.application.use_cases.get_full_product - WARNING - Товар ID_ID не найден
2025-09-04 16:49:14,561 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:49:14,566 - src.application.use_cases.get_full_product - WARNING - Пользователь u1 не найден для товара p1
2025-09-04 16:49:14,566 - src.application.use_cases.get_full_product - INFO - Успешно получена информация о товаре p1
2025-09-04 16:49:14,571 - src.application.use_cases.get_product - INFO - Продукт p1 успешно получен
2025-09-04 16:49:14,576 - src.application.use_cases.get_product - WARNING - Продукт ID_ID не найден
2025-09-04 16:49:14,579 - src.application.use_cases.get_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:49:14,582 - src.application.use_cases.upd_product - DEBUG - Цена pr1 сохранена для продукта p1
2025-09-04 16:49:14,583 - src.application.use_cases.upd_product - DEBUG - Продукт p1 обновлен с price_id=pr1
2025-09-04 16:49:14,583 - src.application.use_cases.upd_product - INFO - Цена успешно обновлена для продукта p1, price_id=pr1
2025-09-04 16:49:14,589 - src.application.use_cases.upd_product - WARNING - Продукт с id p1 не найден
2025-09-04 16:49:14,593 - src.application.use_cases.upd_product - ERROR - Идентификатор продукта не указан
2025-09-04 16:49:14,596 - src.application.use_cases.upd_product - ERROR - Идентификатор цены не указан
2025-09-04 16:56:47,164 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: <Mock name='mock.parse_product()' id='2499361000144'>
2025-09-04 16:59:18,517 - fixtures.repositories - DEBUG - <class '_pytest.fixtures.FixtureFunctionDefinition'>
2025-09-04 17:00:17,772 - fixtures.repositories - DEBUG - TYPE OF MOCK PRODUCT REPO <class '_pytest.fixtures.FixtureFunctionDefinition'>
2025-09-04 17:00:17,773 - test_use_case_create_product - DEBUG - TYPE OF MOCK PRODUCT REPO <class 'src.infrastructure.database.repositories.product_repository.ProductRepositoryImpl'>
2025-09-04 17:00:17,774 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: <Mock name='mock.parse_product()' id='2099088673824'>
2025-09-05 08:22:04,385 - fixtures.repositories - DEBUG - TYPE OF MOCK PRODUCT REPO <class '_pytest.fixtures.FixtureFunctionDefinition'>
2025-09-05 08:22:04,390 - test_use_case_create_product - DEBUG - TYPE OF MOCK PRODUCT REPO <class 'src.infrastructure.database.repositories.product_repository.ProductRepositoryImpl'>
2025-09-05 08:22:04,391 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: <Mock name='mock.parse_product()' id='1771672636448'>
2025-09-05 09:23:49,799 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:23:49,801 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:37:13,663 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:37:13,664 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:37:13,664 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:37:13,664 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:37:13,665 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:41:38,688 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:41:38,689 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:41:38,689 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:41:38,689 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:41:38,690 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:41:38,690 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'id': 'p1', 'name': 'Test Product', 'user_id': 'u1', 'price_id': 'a64cd504-c817-41fe-ae74-9ff0ef4f13f3'}
2025-09-05 09:42:14,294 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:42:14,296 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:42:14,296 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:42:14,297 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:42:14,298 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:42:14,298 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': 'c3ce5bbb-946a-4e0a-b707-46ceac91120f'}
2025-09-05 09:43:57,768 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:43:57,769 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:43:57,769 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:43:57,769 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:43:57,770 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:43:57,771 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '6e3e218d-bb14-4f3e-a795-716c8ab5c1a7'}
2025-09-05 09:44:08,028 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:44:08,029 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:44:08,029 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:44:08,029 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:44:08,029 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:44:08,030 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '6ff07fd8-a3e9-46fe-bacc-771045502ead'}
2025-09-05 09:45:01,205 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:45:01,205 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:45:01,206 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:45:01,206 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:45:01,207 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:45:01,207 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '0390d55b-34d7-484c-bec7-a81bbce166e8'}
2025-09-05 09:45:19,973 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:45:19,974 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:45:19,974 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:45:19,975 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:45:19,976 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:45:19,976 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': 'a3f2ce89-1122-477c-ae5d-92ab3fd102cb'}
2025-09-05 09:46:34,861 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:46:34,862 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:46:34,862 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:46:34,863 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:46:34,863 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:46:34,864 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '19cab6f8-6c2a-42ec-84a4-397bd123f1cd'}
2025-09-05 09:47:44,974 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:47:44,975 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:47:44,975 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:47:44,975 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:47:44,975 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:47:44,976 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '8fe0739a-ad14-4974-8f87-a16659c2636e'}
2025-09-05 09:48:15,447 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:48:15,447 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:48:15,448 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:48:15,448 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:48:15,448 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:48:15,448 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '4dc21e3b-5575-47b9-899d-43da36f97691'}
2025-09-05 09:48:25,390 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:48:25,391 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:48:25,391 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:48:25,392 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:48:25,392 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:48:25,392 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '443a5f55-ad53-41c1-9252-afe7e6e33c76'}
2025-09-05 09:48:31,884 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:48:31,885 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:48:31,886 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:48:31,888 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:48:31,889 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:48:31,890 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '86032147-9a4c-468f-bd07-f719606237e2'}
2025-09-05 09:49:33,891 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 09:49:33,891 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 09:49:33,891 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 09:49:33,892 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 09:49:33,892 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 09:49:33,892 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '4b639fa8-0825-4e03-b23e-35d4df90cf59'}
2025-09-05 10:00:39,186 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:00:39,187 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:00:39,187 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:00:39,187 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:00:39,188 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:00:39,188 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '562be2bc-ef6e-4708-964d-ba6fb5c7dc93'}
2025-09-05 10:00:39,193 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:00:39,194 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:00:39,194 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:00:39,194 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '887a53ed-773f-4cb6-9b42-78e182a0776a'}
2025-09-05 10:01:01,252 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:01:01,253 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:01:01,254 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:01:01,254 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:01:01,254 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:01:01,255 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '55301239-be35-46a0-97f8-b7a856efd705'}
2025-09-05 10:01:01,261 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:01:01,262 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:01:01,263 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:01:01,264 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:01:01,264 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:01:01,264 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '109b0175-8cd9-4579-85db-35c86af601ef'}
2025-09-05 10:01:37,853 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:01:37,854 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:01:37,854 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:01:37,855 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:01:37,855 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:01:37,856 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': 'ae44b7a6-7714-4d39-9597-029c40e26cfb'}
2025-09-05 10:01:37,862 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:01:37,864 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:01:37,865 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:01:37,866 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': 'b45aea27-7b29-4978-8faf-89e99dd2366c'}
2025-09-05 10:02:04,400 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:02:04,401 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:02:04,401 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:02:04,401 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:02:04,402 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:02:04,402 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '5078406c-ccbc-44bf-bd88-eeaf2602c50e'}
2025-09-05 10:02:04,409 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:02:04,411 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:02:04,412 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:02:23,216 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:02:23,218 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:02:23,219 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:02:23,219 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:02:23,220 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:02:23,220 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '6067529b-ced5-41ee-a9ad-bcbae967bb52'}
2025-09-05 10:02:23,224 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:02:23,224 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:02:23,225 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:05:06,435 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:05:06,437 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:05:06,438 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:05:06,438 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:05:06,438 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:05:06,439 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': 'e5ca99c1-f946-412e-864a-d535a1f3ad42'}
2025-09-05 10:05:06,446 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:05:06,448 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:05:06,448 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:30:28,741 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:30:28,743 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:30:28,743 - src.application.use_cases.create_product - DEBUG - Сохранение нового пользователя u1
2025-09-05 10:30:28,743 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:30:28,743 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:30:28,744 - test_use_case_create_product - DEBUG - RESULT USE CASE -> {'product_id': 'p1', 'product_name': 'Test Product', 'user_id': 'u1', 'price_id': '60a0b901-70c6-40a4-b12f-8e4deaddfedf'}
2025-09-05 10:30:28,747 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:30:28,748 - src.application.use_cases.create_product - DEBUG - Обновление списка продуктов для пользователя u1
2025-09-05 10:30:28,748 - src.application.use_cases.create_product - INFO - Товар Test Product сохранён для пользователя u1
2025-09-05 10:30:28,754 - src.application.use_cases.create_product - INFO - Успешный парсинг данных для https://example.com/product: {'id': 'p1', 'name': 'Test Product', 'image_url': 'https://example.com/image.jpg', 'rating': 4.5, 'categories': ['cat1', 'cat2'], 'price_with_card': 100, 'price_without_card': 120, 'price_default': 150}
2025-09-05 10:30:28,755 - src.application.use_cases.create_product - DEBUG - Создание нового пользователя u1
2025-09-05 10:30:28,756 - src.application.use_cases.create_product - ERROR - Товар с ID p1 уже существует
