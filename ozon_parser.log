2025-09-03 09:43:23,963 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,967 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:23,977 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,978 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:23,979 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 09:43:23,982 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 09:43:23,986 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 09:43:23,988 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 09:43:23,993 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:23,995 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:24,000 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 09:43:24,004 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 09:43:24,009 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 09:43:24,011 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 09:43:24,014 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:43:24,016 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:43:24,018 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 09:43:24,022 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 09:44:37,952 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,956 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,966 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,967 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,968 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 09:44:37,970 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 09:44:37,972 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 09:44:37,973 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 09:44:37,975 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,977 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,983 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 09:44:37,985 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 09:44:37,990 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 09:44:37,991 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 09:44:37,994 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 09:44:37,997 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 09:44:37,999 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 09:44:38,002 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 10:06:18,266 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,285 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,289 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,293 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,294 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-03 10:06:18,294 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-03 10:06:18,300 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-03 10:06:18,302 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-03 10:06:18,306 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,311 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,312 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-03 10:06:18,313 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-03 10:06:18,324 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-03 10:06:18,326 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-03 10:06:18,334 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-03 10:06:18,337 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-03 10:06:18,338 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-03 10:06:18,344 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-03 10:47:25,405 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 10:47:25,420 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 10:48:56,992 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 10:48:57,005 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 11:52:55,866 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 11:52:55,879 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:07:41,558 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:07:41,570 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:17,306 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:17,315 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:27,305 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:27,316 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:27,316 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000001C2AF09FB60>
2025-09-03 14:42:53,147 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:42:53,157 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:42:53,157 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000001A8072CFB60>
2025-09-03 14:42:53,158 - test_repo_price - INFO - call(<src.infrastructure.database.models.price.ORMPrice object at 0x000001A8072CFB60>)
2025-09-03 14:46:02,769 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:46:02,778 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:46:02,778 - test_repo_price - INFO - <src.infrastructure.database.models.price.ORMPrice object at 0x000002BDBCCAFB60>
2025-09-03 14:59:09,225 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 14:59:09,232 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 14:59:09,232 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000184243E3CB0>
2025-09-03 15:49:46,967 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 15:49:46,969 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 15:50:46,866 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 15:50:46,867 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 15:50:46,867 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 15:50:46,867 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:03:44,503 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:03:44,505 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:03:44,505 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:03:44,506 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:16:32,279 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:16:32,281 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:16:32,281 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:16:32,281 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:01,295 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:01,296 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:01,296 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:01,296 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:23,008 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:23,009 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:23,010 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:23,010 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:18:45,157 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:18:45,157 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:18:45,158 - test_repo_price - INFO - THIS RESULT.ID pr1
2025-09-03 16:18:45,158 - test_repo_price - INFO - THIS price_second.id pr1
2025-09-03 16:20:57,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:20:57,911 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:20:57,911 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:20:57,911 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:21:57,467 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:21:57,467 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:21:57,468 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:21:57,468 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:22:22,993 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:22:22,994 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:22:22,994 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:22:22,995 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:28:35,492 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:30:06,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:36:19,167 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение актуальной цены для продукта p1
2025-09-03 16:50:36,666 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:50:36,676 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:50:36,677 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000016AA3693CB0>
2025-09-03 16:50:36,710 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:50:36,711 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:50:36,711 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:50:36,712 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:54:10,027 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:54:10,032 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:54:10,033 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000211462D3CB0>
2025-09-03 16:54:10,064 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:54:10,065 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:54:10,065 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:54:10,066 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 16:59:16,192 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 16:59:16,207 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 16:59:16,209 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000002318A403CB0>
2025-09-03 16:59:16,243 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 16:59:16,244 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 16:59:16,244 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 16:59:16,244 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:00:22,863 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:00:22,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:00:22,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000233594C3CB0>
2025-09-03 17:00:22,922 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:00:22,923 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:00:22,923 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:00:22,924 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:02:44,528 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:02:44,534 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:02:44,535 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C89D5FFE00>
2025-09-03 17:02:44,560 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:02:44,561 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:02:44,561 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:02:44,562 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:02:44,564 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:02:44,565 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:04:28,774 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:04:28,783 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:04:28,783 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000002D3B570FE00>
2025-09-03 17:04:28,808 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:04:28,809 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:04:28,810 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:04:28,810 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:04:28,813 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:04:28,813 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:05:34,869 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:05:34,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:05:34,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C05E10FE00>
2025-09-03 17:05:34,903 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:05:34,904 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:05:34,904 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:05:34,904 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:05:34,906 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:05:34,907 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-03 17:08:17,981 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-03 17:08:17,988 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-03 17:08:17,989 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000241DAD93CB0>
2025-09-03 17:08:18,012 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-03 17:08:18,013 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-03 17:08:18,013 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-03 17:08:18,014 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-03 17:08:18,016 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-03 17:08:18,017 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 08:51:19,699 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 08:51:19,709 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 08:51:19,709 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F150003CB0>
2025-09-04 08:51:19,882 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 08:51:19,883 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 08:51:19,883 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 08:51:19,884 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 08:51:19,886 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 08:51:19,887 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 09:05:19,579 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,595 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,609 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,610 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,611 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:05:19,620 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:05:19,626 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:05:19,629 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:05:19,636 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,640 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,643 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:05:19,646 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:05:19,658 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:05:19,659 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:05:19,662 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:05:19,664 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:05:19,666 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:05:19,675 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:08:23,445 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,470 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,486 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,488 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,488 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:08:23,490 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:08:23,492 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:08:23,494 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:08:23,499 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,501 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,506 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:08:23,509 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:08:23,518 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:08:23,520 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:08:23,524 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:08:23,527 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:08:23,527 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:08:23,535 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:14:54,213 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:14:54,221 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:14:54,222 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F817703CB0>
2025-09-04 09:16:52,344 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:16:52,510 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,525 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,525 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:16:52,535 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:16:52,540 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: 666
2025-09-04 09:16:52,542 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID 666 не найден
2025-09-04 09:16:52,544 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,547 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,549 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 09:16:52,552 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 09:16:52,559 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: ID_ID
2025-09-04 09:16:52,560 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID ID_ID не найден для удаления
2025-09-04 09:16:52,563 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:16:52,565 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:16:52,565 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск всех товаров пользователя u1
2025-09-04 09:16:52,571 - src.infrastructure.database.repositories.product_repository - INFO - Найдено 1 товаров для пользователя u1
2025-09-04 09:16:58,890 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:16:58,900 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:16:58,901 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001ADF8543CB0>
2025-09-04 09:17:40,084 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:17:40,092 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:17:40,092 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001C89D313CB0>
2025-09-04 09:18:26,109 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:18:26,119 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:18:26,120 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x000001F8BF343CB0>
2025-09-04 09:22:52,619 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:22:52,627 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:22:52,627 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000024997283CB0>
2025-09-04 09:23:06,865 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 09:23:06,875 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 09:23:06,876 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000022CF9D03CB0>
2025-09-04 09:23:58,515 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:24:21,542 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:25:24,940 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:25:24,956 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:30:01,860 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:14,426 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:14,427 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:34:35,820 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:35,820 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:34:35,821 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:34:35,829 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:41,667 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:41,668 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:41,669 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:42:41,670 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:42:41,670 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:41,671 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:42:55,584 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:55,584 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:42:55,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:42:55,586 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 09:43:19,118 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:43:19,118 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID p1 не найден
2025-09-04 09:43:19,119 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 09:43:19,119 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 09:43:19,120 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 09:43:19,120 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:07:58,074 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:07:58,075 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:10:09,998 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 10:10:10,004 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 10:10:10,005 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x0000023A7E833CB0>
2025-09-04 10:10:10,041 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 10:10:10,043 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 10:10:10,043 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 10:10:10,044 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 10:10:10,046 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 10:10:10,047 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 10:10:21,544 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:10:21,545 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:11:55,862 - src.infrastructure.database.repositories.price_repository - INFO - Сохранение цены: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0))
2025-09-04 10:11:55,874 - src.infrastructure.database.repositories.price_repository - DEBUG - Цена успешно сохранена (ID: pr1)
2025-09-04 10:11:55,875 - test_repo_price - INFO - ORM объект, переданный в merge: <src.infrastructure.database.models.price.ORMPrice object at 0x00000241F0533CB0>
2025-09-04 10:11:55,910 - src.infrastructure.database.repositories.price_repository - DEBUG - Поиск цены по ID: pr1
2025-09-04 10:11:55,911 - src.infrastructure.database.repositories.price_repository - INFO - Найдена цена: Price(id='pr1', product_id='p1', with_card=100, without_card=120, previous_with_card=90, previous_without_card=110, default=150, claim=datetime.datetime(2025, 1, 1, 0, 0)) (ID: pr1)
2025-09-04 10:11:55,911 - test_repo_price - INFO - RESULT OBJECT ID: pr1
2025-09-04 10:11:55,912 - test_repo_price - INFO - EXPECTED PRICE ID: pr1
2025-09-04 10:11:55,916 - src.infrastructure.database.repositories.price_repository - DEBUG - Получение всех цен для продукта p1
2025-09-04 10:11:55,916 - src.infrastructure.database.repositories.price_repository - INFO - Найдено 1 цен для продукта p1
2025-09-04 10:11:58,550 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:11:58,552 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:11:58,564 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:11:58,566 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:15,106 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:13:15,108 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:13:15,110 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:13:15,110 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:15,112 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:13:15,113 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:13:34,580 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:13:34,581 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:13:34,584 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:13:34,584 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:13:34,586 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:13:34,587 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:15:09,208 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 10:15:09,209 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 10:15:09,212 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:15:09,213 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 10:15:09,215 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 10:15:09,215 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 10:15:09,218 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 10:15:09,219 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:05,408 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:05,409 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:05,411 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:05,411 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:05,413 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:05,413 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:05,417 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:05,417 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,029 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:19,030 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:19,032 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:19,032 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,035 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:19,036 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:19,041 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:19,042 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:19,043 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:12:19,043 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 11:12:56,477 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:12:56,478 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:12:56,483 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:56,484 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:56,487 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:12:56,488 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:12:56,490 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:12:56,491 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:12:56,491 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:12:56,492 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
2025-09-04 11:13:16,584 - src.infrastructure.database.repositories.product_repository - INFO - Сохранение товара: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2'])
2025-09-04 11:13:16,585 - src.infrastructure.database.repositories.product_repository - DEBUG - Товар успешно сохранен (ID: p1)
2025-09-04 11:13:16,586 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:13:16,586 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:13:16,590 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: NOTEXIST_ID
2025-09-04 11:13:16,590 - src.infrastructure.database.repositories.product_repository - WARNING - Товар с ID NOTEXIST_ID не найден
2025-09-04 11:13:16,592 - src.infrastructure.database.repositories.product_repository - DEBUG - Поиск товар по ID: p1
2025-09-04 11:13:16,593 - src.infrastructure.database.repositories.product_repository - INFO - Найден Товар: Product(id='p1', user_id='u1', price_id='pr1', name='Test Product', link='https://example.com/product', image_url='https://example.com/image.jpg', rating=4.5, categories=['cat1', 'cat2']) (ID: p1)
2025-09-04 11:13:16,593 - src.infrastructure.database.repositories.product_repository - INFO - Попытка удаления товара с ID: p1
2025-09-04 11:13:16,594 - src.infrastructure.database.repositories.product_repository - INFO - Товар с ID p1 успешно удален
